<!DOCTYPE html>
<html ng-app="codeBreak">
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <script src="js/app.js" type="text/javascript"> </script>
        <title></title>
    </head>
    <body ng-controller='codeBreak as ctrl'>
      <h1>Code Break</h1>
        <!-- {{2+2}}
        {{ctrl.test}} -->
      <form ng-if="ctrl.showCreateUser" ng-submit="ctrl.createUser()" class="create-user" >
        <label for="username-create">Username</label>
          <input ng-model="ctrl.username" type="text" id="username-create">
        <label for="password-create">Password</label>
          <input ng-model="ctrl.password" type="password" id="password-create">
          <button type="submit" name="button">CreateUser</button>
      </form>

      <form ng-if="ctrl.showLogIn" ng-submit="ctrl.createSession()" class="login" >
        <label for="username-login">Username</label>
          <input ng-model="ctrl.username" type="text" id="username-login">
        <label for="password-login">Password</label>
          <input ng-model="ctrl.password" type="password" id="password-login">
          <button type="submit" name="button">Log In</button>
      </form>

      <form ng-if="ctrl.showLogOut" ng-submit="ctrl.deleteSession()" class="logout">
          <button type="submit" name="button">Log Out</button>
      </form>

      <div class="">
          <button ng-click="ctrl.getJoke()">I Need a JOKE!</button>
          <h4>{{ctrl.joke}}</h4></br>
      </div>


      <div class="">
        <button ng-click="ctrl.getAnswer()" >Show Answer</button>
        <h4 ng-if="ctrl.showAnswer" >{{ctrl.answer}}</h4>
      </div>
      <!-- CREATE IMAGE -->
      <div class="image-forum">
        <form ng-submit="ctrl.createImage()" class="image-create">
          <label for="image-create">Image URL</label>
            <input ng-model="ctrl.image" type="text" id="image-create">
          <label for="caption-create">Caption</label>
            <input ng-model="ctrl.caption" type="text" id="caption-create">
          <input type="submit" value="Post">
        </form>
        <!-- SHOW IMAGES -->
        <div ng-repeat="image in ctrl.images" class="image">
          <h3>{{image.caption}}</h3>
          <img ng-src="{{image.image}}" alt="{{image.caption}}">
          <!-- DELETE IMAGE -->
          <button ng-click="ctrl.deleteImage(image)" type="button" name="button">Delete</button>
          <!-- EDIT IMAGE LINK -->
          <button ng-click="ctrl.indexOfEditFormToShow = $index" type="button" name="button">Edit</button>
          <!-- EDIT IMAGE FORM -->
          <form ng-if="$index === ctrl.indexOfEditFormToShow" ng-submit="ctrl.editImage(image)" class="image-edit">
            <input ng-model="ctrl.updatedCaption" type="text" value="{{image.caption}}" placeholder="{{image.caption}}">
            <input ng-model="ctrl.updatedImage" type="text" value="{{iamge.image}}" placeholder="{{image.image}}">
            <input type="submit" value="Update">
          </form>
        </div>
      </div>

              <!-- <ul ng-repeat="user in ctrl.users">
                  <li>{{user.username}}</li>
                  <button ng-model=ctrl.deleteUser(user._id) type="submit" name="button">DeleteUser</button>

              </ul> -->

              <!-- <form ng-submit="" class="" action="index.html" method="post">
                  Joke: <input ng-model="ctrl.joke" type="text" name="" value="" placeholder="Enter your joke">
                  Punchline:<input ng-model="ctrl.answer" type="text" name="" value="" placeholder=" Enter your answer">
              </form> -->

    </body>
</html>
